{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC2\\\\Desktop\\\\_blgashLMS\\\\frontend\\\\src\\\\components\\\\Test\\\\Timer.js\",\n    _s = $RefreshSig$();\n\nimport { Fade, Typography } from \"@material-ui/core\";\nimport { convertTime } from \"helper\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport submitTestApi from \"apis/submitTestApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Timer(_ref) {\n  _s();\n\n  let {\n    value,\n    onSubmitTest\n  } = _ref;\n  let initTime = convertTime(value);\n  const [time, setTime] = useState({\n    hours: initTime.hours,\n    minutes: initTime.minutes,\n    seconds: initTime.seconds\n  });\n  const [timer, setTimer] = useState(null);\n  useEffect(() => {\n    const items = JSON.parse(localStorage.getItem('time'));\n    console.log(items);\n\n    if (items) {\n      setTime(items);\n    }\n  }, []);\n  useEffect(() => {\n    let myInterval = setInterval(() => {\n      setTime(time => {\n        const updatedTime = { ...time\n        };\n\n        if (time.seconds > 0) {\n          updatedTime.seconds--;\n        }\n\n        if (time.seconds === 0) {\n          if (time.hours === 0 && time.minutes === 0) {\n            clearInterval(myInterval);\n            onSubmitTest();\n          } else if (time.minutes > 0) {\n            updatedTime.minutes--;\n            updatedTime.seconds = 59;\n          } else if (updatedTime.hours > 0) {\n            updatedTime.hours--;\n            updatedTime.minutes = 59;\n            updatedTime.seconds = 59;\n          }\n        }\n\n        localStorage.setItem('time', JSON.stringify(updatedTime));\n        return updatedTime;\n      });\n    }, 1000);\n    return () => {\n      if (myInterval) clearInterval(myInterval);\n    };\n  }, [onSubmitTest]);\n  return /*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"h6\",\n    children: [time.hours < 10 && time.hours !== 0 ? `0${time.hours}:` : time.hours >= 10 && `${time.hours}:`, time.minutes < 10 ? `0${time.minutes}` : time.minutes, \":\", time.seconds < 10 ? `0${time.seconds}` : time.seconds]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Timer, \"scgqp2R4IokbIpdehxrZ3B34gC0=\");\n\n_c = Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"names":["Fade","Typography","convertTime","React","useState","useEffect","submitTestApi","Timer","value","onSubmitTest","initTime","time","setTime","hours","minutes","seconds","timer","setTimer","items","JSON","parse","localStorage","getItem","console","log","myInterval","setInterval","updatedTime","clearInterval","setItem","stringify"],"sources":["C:/Users/PC2/Desktop/_blgashLMS/frontend/src/components/Test/Timer.js"],"sourcesContent":["import { Fade, Typography } from \"@material-ui/core\";\nimport { convertTime } from \"helper\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport submitTestApi from \"apis/submitTestApi\";\n\nexport default function Timer({ \n  value,  \n  onSubmitTest\n}) {\n  let initTime = convertTime(value);\n  const [time, setTime] = useState({\n    hours: initTime.hours,\n    minutes: initTime.minutes,\n    seconds: initTime.seconds,\n  });\n  const [timer, setTimer] = useState(null);\n\n \n  useEffect(() => {\n  const items = JSON.parse(localStorage.getItem('time'));\n  console.log(items)\n  if (items) {\n   setTime(items);\n  }\n}, []);\n\n\n  useEffect(() => {\n    let myInterval = setInterval(() => {\n      setTime((time) => {\n        const updatedTime = { ...time };\n        if (time.seconds > 0) {\n          updatedTime.seconds--;\n        }\n        if (time.seconds === 0) {\n          if (time.hours === 0 && time.minutes === 0) {\n            clearInterval(myInterval);\n            onSubmitTest();\n          } else if (time.minutes > 0) {\n            updatedTime.minutes--;\n            updatedTime.seconds = 59;\n          } else if (updatedTime.hours > 0) {\n            updatedTime.hours--;\n            updatedTime.minutes = 59;\n            updatedTime.seconds = 59;\n          }\n        }\n        localStorage.setItem('time', JSON.stringify(updatedTime));\n        return updatedTime;\n      });\n    }, 1000);\n\n    \n    return () => {\n      if (myInterval) clearInterval(myInterval);\n    };\n  }, [onSubmitTest]);\n\n  return (\n    <Typography variant=\"h6\">\n      {time.hours < 10 && time.hours !== 0\n        ? `0${time.hours}:`\n        : time.hours >= 10 && `${time.hours}:`}\n      {time.minutes < 10 ? `0${time.minutes}` : time.minutes}:\n      {time.seconds < 10 ? `0${time.seconds}` : time.seconds}\n    </Typography>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}