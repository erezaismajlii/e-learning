{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC2\\\\Desktop\\\\_blgashLMS\\\\frontend\\\\src\\\\components\\\\Test\\\\Part2.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { FormControl, Typography, RadioGroup, FormControlLabel, Radio } from \"@material-ui/core\";\nimport Pagination from \"./Pagination\";\nimport fileTestApi from \"apis/fileTestApi\";\nimport submitTestApi from \"apis/submitTestApi\";\nimport { AudioCard } from 'material-ui-player';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Part2(_ref) {\n  _s();\n\n  let {\n    part,\n    testId,\n    submitId,\n    setSubmitAnswers2\n  } = _ref;\n  const [currentPage, setCurrentPage] = useState(1);\n  const [partQuestions, setPartQuestions] = useState([]);\n  const [submitList, setSubmitList] = useState([]);\n  const [isPlaying, setIsPlaying] = useState(true);\n\n  const addAnswers = answer => {\n    let checkExisted = submitList.some(item => answer.QuestionTestId === item.QuestionTestId);\n    let newList = [];\n\n    if (checkExisted === true) {\n      newList = submitList.filter(item => item.QuestionTestId !== answer.QuestionTestId);\n    } else {\n      newList = submitList;\n    }\n\n    newList.push(answer);\n    setSubmitList(newList);\n    setSubmitAnswers2(newList);\n  };\n\n  const IsCheckedAnswer = answerId => {\n    let checkedAnswer = submitList.some(item => answerId === item._id);\n    return checkedAnswer;\n  };\n\n  useEffect(() => {\n    (async function () {\n      const res = await fileTestApi.getAllQuestionsOfFile(testId, part, currentPage);\n      setPartQuestions(res.data);\n    })();\n\n    return () => {};\n  }, [testId, part]);\n  useEffect(() => {\n    (async function () {\n      const res = await submitTestApi.getSubmitById(submitId);\n      setSubmitList(res.data.AnswerTests2);\n      setSubmitAnswers2(res.data.AnswerTests2);\n    })();\n\n    return () => {};\n  }, [testId, part]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      children: \"Part 2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), partQuestions.Audio && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(AudioCard, {\n          src: isPlaying === true && partQuestions.Audio,\n          onEnded: () => setIsPlaying(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), partQuestions.Questions && partQuestions.Questions.map((question, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          children: [question.Sentence, \". Mark your answer on your answer sheet.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            children: /*#__PURE__*/_jsxDEV(RadioGroup, {\n              \"aria-labelledby\": \"demo-radio-buttons-group-label\",\n              defaultValue: \"female\",\n              name: \"radio-buttons-group\",\n              children: question.Answers && question.Answers.map((answer, index) => {\n                return /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  value: answer.Sentence,\n                  control: /*#__PURE__*/_jsxDEV(Radio, {\n                    checked: IsCheckedAnswer(answer._id),\n                    onClick: () => addAnswers(answer)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 38\n                  }, this),\n                  label: `(${answer.Sentence})`\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 27\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(Pagination, {\n      pages: 1,\n      setCurrentPage: setCurrentPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Part2, \"Cz4CYdnmgFRrFwzZJO/AtxVCg3g=\");\n\n_c = Part2;\n\nvar _c;\n\n$RefreshReg$(_c, \"Part2\");","map":{"version":3,"names":["React","useState","useEffect","FormControl","Typography","RadioGroup","FormControlLabel","Radio","Pagination","fileTestApi","submitTestApi","AudioCard","Part2","part","testId","submitId","setSubmitAnswers2","currentPage","setCurrentPage","partQuestions","setPartQuestions","submitList","setSubmitList","isPlaying","setIsPlaying","addAnswers","answer","checkExisted","some","item","QuestionTestId","newList","filter","push","IsCheckedAnswer","answerId","checkedAnswer","_id","res","getAllQuestionsOfFile","data","getSubmitById","AnswerTests2","Audio","Questions","map","question","index","Sentence","Answers"],"sources":["C:/Users/PC2/Desktop/_blgashLMS/frontend/src/components/Test/Part2.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  FormControl,\n  Typography,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n} from \"@material-ui/core\";\nimport Pagination from \"./Pagination\";\nimport fileTestApi from \"apis/fileTestApi\";\nimport submitTestApi from \"apis/submitTestApi\";\nimport { AudioCard } from 'material-ui-player';\n\nexport default function Part2({ part, testId, submitId, setSubmitAnswers2}) {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [partQuestions, setPartQuestions] = useState([]);\n  const [submitList, setSubmitList] = useState([]);\n  const [isPlaying, setIsPlaying] = useState(true);\n\n  const addAnswers = (answer) =>{\n    let checkExisted = submitList.some(item =>\n      answer.QuestionTestId === item.QuestionTestId\n    );\n\n    let newList = [];\n    if(checkExisted === true){\n      newList = submitList.filter(item => item.QuestionTestId !== answer.QuestionTestId);     \n    }\n    else{\n      newList = submitList;      \n    }\n    \n    newList.push(answer);\n    setSubmitList(newList);\n    setSubmitAnswers2(newList);    \n}\n\nconst IsCheckedAnswer = (answerId) =>{\n  let checkedAnswer = submitList.some(item =>\n    answerId === item._id\n  );\n  return checkedAnswer;    \n}\n\n  useEffect(() => {\n    (async function () {\n      const res = await fileTestApi.getAllQuestionsOfFile(testId, part, currentPage);\n      setPartQuestions(res.data);\n      \n    })();\n    return () => {};\n  }, [testId, part]);\n\n  useEffect(() => {\n    (async function () {\n      const res = await submitTestApi.getSubmitById(submitId);\n      setSubmitList(res.data.AnswerTests2);\n      setSubmitAnswers2(res.data.AnswerTests2);\n    })();\n    return () => {};\n  }, [testId, part]);\n\n  return (\n    <div>\n      <Typography variant=\"h5\">Part 2</Typography>\n      {partQuestions.Audio && (\n        <div>\n        <div>\n          <AudioCard src={isPlaying === true && partQuestions.Audio} onEnded={() => setIsPlaying(false)}></AudioCard>\n        </div>\n        </div>\n      )}\n      {partQuestions.Questions &&\n        partQuestions.Questions.map((question, index) => {\n          return (\n            <div key={index}>\n              <Typography>{question.Sentence}. Mark your answer on your answer sheet.</Typography>\n              <div>\n                <FormControl>\n                  <RadioGroup\n                    aria-labelledby=\"demo-radio-buttons-group-label\"\n                    defaultValue=\"female\"\n                    name=\"radio-buttons-group\"\n                  >\n                    {question.Answers &&\n                      question.Answers.map((answer, index) => {\n                        return (\n                          <FormControlLabel\n                            key={index}\n                            value={answer.Sentence}\n                            control={<Radio \n                              checked = {IsCheckedAnswer(answer._id)}\n                              onClick={()=>addAnswers(answer)}\n                             \n                              />}\n                            label={`(${answer.Sentence})`}\n                          />\n                        );\n                      })}\n                  </RadioGroup>\n                </FormControl>\n              </div>\n            </div>\n          );\n        })}\n      <Pagination pages={1} setCurrentPage={setCurrentPage} ></Pagination>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}